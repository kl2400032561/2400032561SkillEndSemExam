<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Online Bookstore</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background: #f9f9f9;
    padding: 20px;
    border-radius: 10px;
  }
  .book, .cart-item {
    border: 1px solid #ccc;
    background: #fff;
    border-radius: 6px;
    padding: 10px;
    margin-bottom: 10px;
  }
  .book {
    width: 200px;
    margin-right: 15px;
    display: inline-block;
    vertical-align: top;
  }
  button {
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    color: white;
    cursor: pointer;
  }
  button:disabled {
    background: #aaa;
    cursor: not-allowed;
  }
  .add-button {
    background: #007BFF;
  }
  .remove-button {
    background: #dc3545;
  }
  #checkout-button {
    margin-top: 15px;
    padding: 10px;
    background: #28a745;
  }
</style>
</head>
<body>

<h1>ðŸ“š Online Bookstore</h1>

<h2>Available Books</h2>
<div id="books-container"></div>

<h2>ðŸ›’ Shopping Cart</h2>
<div id="cart-container">
  <p>Your cart is empty</p>
</div>
<h3 id="total-price"></h3>

<button id="checkout-button" style="display:none;">Proceed to Checkout</button>

<script>
  // Books data
  const books = [
    { id: 1, title: "The Pragmatic Programmer", author: "Andrew Hunt", price: 35, availability: "in stock" },
    { id: 2, title: "Clean Code", author: "Robert C. Martin", price: 40, availability: "in stock" },
    { id: 3, title: "JavaScript: The Good Parts", author: "Douglas Crockford", price: 25, availability: "out of stock" },
    { id: 4, title: "You Donâ€™t Know JS", author: "Kyle Simpson", price: 30, availability: "in stock" },
  ];

  let cart = [];

  const booksContainer = document.getElementById('books-container');
  const cartContainer = document.getElementById('cart-container');
  const totalPriceElem = document.getElementById('total-price');
  const checkoutButton = document.getElementById('checkout-button');

  function renderBooks() {
    booksContainer.innerHTML = '';
    books.forEach(book => {
      const bookDiv = document.createElement('div');
      bookDiv.className = 'book';

      bookDiv.innerHTML = `
        <h3>${book.title}</h3>
        <p><strong>Author:</strong> ${book.author}</p>
        <p><strong>Price:</strong> $${book.price.toFixed(2)}</p>
        <p><strong>Availability:</strong> ${book.availability}</p>
        <button class="add-button" ${book.availability === 'out of stock' ? 'disabled' : ''}>Add to Cart</button>
      `;

      const addButton = bookDiv.querySelector('button');
      addButton.addEventListener('click', () => addToCart(book));

      booksContainer.appendChild(bookDiv);
    });
  }

  function renderCart() {
    cartContainer.innerHTML = '';

    if (cart.length === 0) {
      cartContainer.innerHTML = '<p>Your cart is empty</p>';
      totalPriceElem.textContent = '';
      checkoutButton.style.display = 'none';
      return;
    }

    cart.forEach((book, index) => {
      const cartItem = document.createElement('div');
      cartItem.className = 'cart-item';
      cartItem.innerHTML = `
        <p>${book.title} - $${book.price.toFixed(2)}</p>
        <button class="remove-button">Remove</button>
      `;

      const removeButton = cartItem.querySelector('button');
      removeButton.addEventListener('click', () => removeFromCart(index));

      cartContainer.appendChild(cartItem);
    });

    totalPriceElem.textContent = `Total: $${getTotal().toFixed(2)}`;
    checkoutButton.style.display = 'inline-block';
  }

  function addToCart(book) {
    cart.push(book);
    renderCart();
  }

  function removeFromCart(index) {
    cart.splice(index, 1);
    renderCart();
  }

  function getTotal() {
    return cart.reduce((total, book) => total + book.price, 0);
  }

  checkoutButton.addEventListener('click', () => {
    alert("ðŸ›’ Thank you for shopping! (Mock Checkout)");
  });

  // Initial render
  renderBooks();
  renderCart();
</script>

</body>
</html>